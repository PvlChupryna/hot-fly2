!function(){"use strict";(function(){const e=document.querySelector(".mobile-nav-btn"),t=document.querySelector(".mobile-nav"),n=document.querySelector(".nav-icon"),o=document.querySelectorAll(".mobile-nav a"),s=document.querySelector(".mobile-nav__list");function c(){t.classList.remove("mobile-nav--open"),n.classList.remove("nav-icon--active"),document.body.classList.remove("no-scroll")}function r(t){s.contains(t.target)||e.contains(t.target)||(c(),document.removeEventListener("click",r))}e.onclick=function(){t.classList.toggle("mobile-nav--open"),n.classList.toggle("nav-icon--active"),document.body.classList.toggle("no-scroll"),t.classList.contains("mobile-nav--open")&&setTimeout((()=>{document.addEventListener("click",r)}),0)},o.forEach((e=>{e.onclick=function(e){e.stopPropagation(),setTimeout((()=>{c(),document.removeEventListener("click",r)}),500)}}))})(),function(){const e=document.querySelectorAll(".nav-list-item"),t=document.querySelectorAll(".section"),n=document.querySelector(".header");function o(){return window.innerWidth<550||window.innerWidth<768?.1:.4}const s=t=>{t.forEach((t=>{if(t.isIntersecting&&t.intersectionRatio>.1){e.forEach((e=>e.classList.remove("is-current")));const n=t.target.id,o=document.querySelectorAll(`.nav-list-item[href="#${n}"]`);o&&o.forEach((e=>{e.classList.add("is-current")})),function(e){return e.target.getBoundingClientRect().bottom<=window.innerHeight}(t)&&console.log("Последняя секция на экране!")}}))},c=new IntersectionObserver(s,{threshold:o()});t.forEach((e=>c.observe(e))),e.forEach((e=>{e.addEventListener("click",(t=>{t.preventDefault();const o=e.getAttribute("href").replace("#",""),s=document.getElementById(o);if(s){const e=n?n.clientHeight:0,t=s.offsetTop,o=window.scrollY<t?t:t-e;window.scrollTo({top:o,behavior:"smooth"})}}))})),window.addEventListener("resize",(()=>{c.disconnect();const e=o(),n=new IntersectionObserver(s,{threshold:e});t.forEach((e=>n.observe(e)))}))}(),function(){const e=document.querySelector(".header");if(!e)return;let t=e.clientHeight,n=window.scrollY;document.querySelector("body")&&r();let o=!1,s=!1;const c=function(e,t){let n,o;return function(){const t=this,s=arguments;o?(clearTimeout(n),n=setTimeout((function(){Date.now()-o>=100&&(e.apply(t,s),o=Date.now())}),100-(Date.now()-o))):(e.apply(t,s),o=Date.now())}}((()=>{const c=window.scrollY;c>50?(s||(e.classList.add("header__fixed"),s=!0),c>t+100&&c>n?o||(e.classList.add("hidden-header"),o=!0):o&&(e.classList.remove("hidden-header"),o=!1)):s&&(e.classList.remove("header__fixed"),s=!1),n=c}));function r(){const t=e.offsetHeight;document.body.style.marginTop=`${t}px`}window.addEventListener("scroll",c),window.onload=r,window.onresize=r}(),function({formSelector:e,rules:t,onSuccess:n}){document.addEventListener("DOMContentLoaded",(()=>{const o=document.querySelector(e);if(!o)return void console.error(`Form with selector "${e}" not found`);const s=o.querySelector(".success-message"),c=o.querySelector(".success-message__btn");s&&c?(t.forEach((({selector:e,test:t})=>{const n=o.querySelector(e);n?(n.addEventListener("invalid",(function(e){e.preventDefault(),n.classList.add("_error")})),n.addEventListener("input",(function(){n.checkValidity()&&n.classList.remove("_error")}))):console.error(`Input with selector "${e}" not found`)})),o.addEventListener("submit",(function(e){e.preventDefault();let r=!1;if(t.forEach((({selector:e,test:t})=>{const n=o.querySelector(e);n&&(t(n)?n.classList.remove("_error"):(n.classList.add("_error"),r=!0))})),r)o.reportValidity();else{function i(){s.classList.remove("success-message--active"),c.classList.remove("success-message__btn--active")}n(o,s,c),s.addEventListener("click",i),c.addEventListener("click",i)}}))):console.error("Success message elements not found")}))}({formSelector:"#contactForm",rules:[{selector:"#c-name",test:e=>""!==e.value.trim()},{selector:"#c-phone",test:e=>/^\+38\s\(\d{3}\)-\d{3}-\d{2}-\d{2}$/.test(e.value)}],onSuccess:(e,t,n)=>{t.classList.add("success-message--active"),n.classList.add("success-message__btn--active"),e.reset(),console.log("Contact Form submitted successfully!")}}),window.addEventListener("DOMContentLoaded",(function(){[].forEach.call(document.querySelectorAll("#c-phone"),(function(e){var t;function n(e){e.keyCode&&(t=e.keyCode),this.selectionStart<3&&e.preventDefault();var n="+38 (___)-___-__-__",o=0,s=n.replace(/\D/g,""),c=this.value.replace(/\D/g,""),r=n.replace(/[_\d]/g,(function(e){return o<c.length?c.charAt(o++)||s.charAt(o):e}));-1!=(o=r.indexOf("_"))&&(o<5&&(o=3),r=r.slice(0,o));var i=n.substr(0,this.value.length).replace(/_+/g,(function(e){return"\\d{1,"+e.length+"}"})).replace(/[+()]/g,"\\$&");(!(i=new RegExp("^"+i+"$")).test(this.value)||this.value.length<5||t>47&&t<58)&&(this.value=r),"blur"==e.type&&this.value.length<5&&(this.value="")}e.addEventListener("input",n,!1),e.addEventListener("focus",n,!1),e.addEventListener("blur",n,!1),e.addEventListener("keydown",n,!1)}))}))}();